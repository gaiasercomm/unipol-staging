<?xml version="1.0" encoding="UTF-8"?>
<hazelcast xmlns="http://www.hazelcast.com/schema/config"
           xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
           xsi:schemaLocation="http://www.hazelcast.com/schema/config
           http://www.hazelcast.com/schema/config/hazelcast-config-3.9.xsd">
    <group>
        <name>openfire</name>
        <password>openfire</password>
    </group>
    <network>
        <port auto-increment="true">5701</port>
        <join>
            <multicast enabled="false" />
            <tcp-ip enabled="false" />
            <aws enabled="false" />            
            <!-- Enable a Docker Swarm based discovery strategy -->
            <discovery-strategies>
                <!--
                <discovery-strategy enabled="true"
                    class="org.bitsofinfo.hazelcast.discovery.docker.swarm.DockerSwarmDiscoveryStrategy">        
                    <properties>
                -->
                        <!-- Comma delimited list of Docker network names to discover matching services on -->
                <!--
                        <property name="docker-network-names">${dockerNetworkNames}</property>
                -->
                        <!-- Comma delimited list of relevant Docker service names 
                           to find tasks/containers on the above networks -->
                <!--
                        <property name="docker-service-names">${dockerServiceNames}</property>
                -->
                        <!-- Comma delimited list of relevant Docker service label=values 
                           to find tasks/containers on the above networks -->
                <!--
                        <property name="docker-service-labels">${dockerServiceLabels}</property>
                -->
                        <!-- The raw port that hazelcast is listening on                        
                           IMPORTANT: this is NOT a docker "published" port, nor is it necessarily
                           a EXPOSEd port... it is simply the hazelcast port that the service
                           is configured with, this must be the same for all matched containers
                           in order to work, and just using the default of 5701 is the simplist
                           way to go.
                        -->
                <!--
                        <property name="hazelcast-peer-port">${hazelcastPeerPort}</property>      
                    </properties>                
                </discovery-strategy>
                -->
                <discovery-strategy enabled="true"
                    class="com.hazelcast.kubernetes.HazelcastKubernetesDiscoveryStrategy">

                    <properties>
                        <!-- configure discovery service API lookup -->
                        <property name="namespace">default</property>
                        <property name="service-name">kronos-hazelcast</property>
                        <!--
                        You should use either service-name or (service-label-name and service-label-value), specifying all 3 parameters does not make sense.
                        -->
                        <!--
                        <property name="service-label-name">MY-SERVICE-LABEL-NAME</property>
                        <property name="service-label-value">MY-SERVICE-LABEL-VALUE</property>
                        -->
                    </properties>
                </discovery-strategy>
             </discovery-strategies>
        </join>
    </network>
</hazelcast>